<div th:fragment="cabecalho"
     xmlns:th="http://www.thymeleaf.org"
     xmlns:sec="https://www.thymeleaf.org/extras/spring-security">

  <div class="logo-bar mb-0 p-3 d-flex align-items-center">
    <div class="logo-content d-flex align-items-center">
      <img th:src="@{/imagens/img.png}" alt="Logo BloomFinance" class="logo-img" />
      <span class="logo-text">BloomFinance</span>
    </div>
  </div>

  <!-- Menu de navegação -->
  <nav class="navbar navbar-expand navbar-light bg-light d-flex justify-content-between mb-3">
    <div class="navbar-nav menu-links">

      <a class="nav-item nav-link" th:href="@{/home}">Início</a>

      <!-- Menus ADMIN -->
      <a class="nav-item nav-link" th:href="@{/correntistas}" sec:authorize="hasRole('ADMIN')">Correntistas</a>
      <a class="nav-item nav-link" th:href="@{/categorias}"  sec:authorize="hasRole('ADMIN')">Categorias</a>
      <a class="nav-item nav-link" th:href="@{/contas}"      sec:authorize="hasRole('ADMIN')">Contas</a>
      <a class="nav-item nav-link" th:href="@{/transacoes}"  sec:authorize="hasRole('ADMIN')">Transações</a>

      <!-- Menus USUÁRIO (correntista) -->
      <a class="nav-item nav-link" th:href="@{/contas}"      sec:authorize="hasRole('USER')">Minhas Contas</a>
      <a class="nav-item nav-link" th:href="@{/transacoes}"  sec:authorize="hasRole('USER')">Transações</a>
      <a class="nav-item nav-link" th:href="@{/extrato}"     sec:authorize="hasRole('USER')">Extrato</a>
      <a class="nav-item nav-link" th:href="@{/orcamento}"   sec:authorize="hasRole('USER')">Orçamento</a>
    </div>

    <!-- Info do usuário + Logout -->
    <div class="user-info" style="margin-right: 10px;">
      <span sec:authorize="isAuthenticated()" sec:authentication="name"></span>
      <form th:action="@{/auth/logout}" method="post" style="display:inline;" sec:authorize="isAuthenticated()">
        <!-- CSRF é obrigatório com CSRF habilitado -->
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <button type="submit" class="logout-button">Sair</button>
      </form>
      <a class="nav-item nav-link" th:href="@{/auth/login}" sec:authorize="!isAuthenticated()">Entrar</a>
    </div>
  </nav>
</div>
